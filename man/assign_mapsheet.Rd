% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/assign_mapsheet.R
\name{assign_mapsheet}
\alias{assign_mapsheet}
\title{Add Nearest Mapsheet Code and Center Coordinates}
\usage{
assign_mapsheet(
  data,
  x_col = "x",
  y_col = "y",
  cell_size = 1,
  unit = c("deg", "min", "sec", "m")
)
}
\arguments{
\item{data}{A data frame containing at least the coordinate columns.}

\item{x_col}{Character. Column name for x-coordinates (default: "x").}

\item{y_col}{Character. Column name for y-coordinates (default: "y").}

\item{cell_size}{Numeric. Size of the grid cell. For example, 1 for 1° cells, 15 for 15' cells.}

\item{unit}{Character. One of "deg", "min", "sec", or "m". For geographic data use "deg" (default).}
}
\value{
The original data frame with three additional columns:
\item{mapsheet}{The mapsheet code in the format "\link{E|W}DDD\link{N|S}DDBB".}
\item{center_lon}{The longitude of the center of the corresponding mapsheet.}
\item{center_lat}{The latitude of the center of the corresponding mapsheet.}
}
\description{
This function takes an existing data frame with coordinate columns and appends
the nearest mapsheet code as well as the center coordinates of the corresponding mapsheet.
The mapsheet code is generated from the grid cell in which the point falls.
}
\examples{
bird_obs <- data.frame(
  site_id = 1:6,
  x = c(22.71862, 20.40034, 18.51368, 18.38477, 23.56160, 18.87285),
  y = c(-33.98912, -34.45408, -34.08271, -34.25946, -33.97620, -34.06225),
  species = c("Fulica cristata", "Numida meleagris coronatus",
              "Anas undulata", "Oenanthe familiaris",
              "Cyanomitra veroxii", "Gallinula chloropus"),
  value = rep(1, 6),
  year = c(2023, 2022, 2023, 2016, 2016, 2019),
  month = c(5, 12, 10, 8, 9, 2),
  day = c(12, 4, 3, 1, 4, 21)
)

# For 1° mapsheet cells:
bird_obs2 <- add_nearest_mapsheet(bird_obs, cell_size = 1, unit = "deg")
head(bird_obs2)
}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rm_correlated.R
\name{rm_correlated}
\alias{rm_correlated}
\title{Remove Highly Correlated Predictors}
\usage{
rm_correlated(data, cols = NULL, threshold = 0.7, plot = TRUE)
}
\arguments{
\item{data}{A data frame with candidate predictor variables.}

\item{cols}{Optional numeric or character vector specifying columns to
consider; defaults to \strong{all} numeric columns.}

\item{threshold}{Numeric in \eqn{[0,1]} specifying the absolute correlation
cut-off (default \code{0.7}).}

\item{plot}{Logical; if \code{TRUE} (default) a correlation heat-map with
coefficients is drawn.}
}
\value{
A data frame containing the original rows but only the subset of
predictor columns whose absolute pairwise correlations are \eqn{<}
\code{threshold}.
}
\description{
Detects pairs (or groups) of strongly collinear predictors and eliminates
the minimum subset necessary to keep every absolute pairwise correlation
below a user‐defined threshold.  Correlations are computed with
\code{stats::cor()}; the variables to discard are chosen via the
\code{caret::findCorrelation()} algorithm.  An optional heat-map of the
correlation matrix is produced with \strong{corrplot} for rapid inspection.
}
\details{
\itemize{
\item Non‐numeric columns are silently dropped prior to correlation
calculation.
\item When \code{cols} is supplied (numeric or character), only those columns are
tested; otherwise all numeric columns in \code{data} are used.
\item The names of removed and retained variables are printed to the console for
transparency.
}
}
\examples{
set.seed(99)
n  <- 200
df <- data.frame(
  a = rnorm(n),
  b = rnorm(n),
  c = rnorm(n) * 0.8 + rnorm(n) * 0.2,  # moderately corr. with 'a'
  d = rnorm(n) * 0.9 + rnorm(n) * 0.1   # moderately corr. with 'b'
)

## Remove predictors with |r| ≥ 0.75
df_reduced <- rm_correlated(df, threshold = 0.75, plot = FALSE)
names(df_reduced)

## Visualise the correlation structure & removals at a stricter threshold
rm_correlated(df, threshold = 0.6, plot = TRUE)

}
\seealso{
\code{\link[corrplot]{corrplot}}, \code{\link[caret]{findCorrelation}}
}
